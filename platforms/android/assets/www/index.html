<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>TripsTalker</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
        <link rel="stylesheet" href="css/jquery.mobile-1.4.3.css">
        <!-- <link rel="stylesheet" href="css/myTrialTheme.css"> -->
        <link rel="stylesheet" href="css/jquery.mobile.icons-1.4.3.css">
        <script type="text/javascript" charset="utf-8" src="cordova.js"></script>  
        <script type="text/javascript" src="PushNotification.js"></script>

    </head>
    <body>
        <!------------------------------------------------------------------------>
        <!---------------------------LOGIN PAGES---------------------------------->
        <!------------------------------------------------------------------------>
        <div data-role="page" id="login_page">
            <div data-role="header" id="header" data-position="fixed">
                <h3>Trips Talker</h3>
            </div>
            <div data-role="content" style="padding: 15px">
                <form id="login_form" data-ajax="false">
                    <label for="login_email">Email: </label> 
                    <input type="text" name="login_email" id="login_email"> 
                    <label for="login_password">Password</label> 
                    <input type="password" name="login_password" id="login_password">
                    <button type="button" data-role="button" data-theme="b" onClick="account.login();">Login</button>
                </form>
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <a href="javascript:nav.slideDown('reset_page',true);" data-role="button" data-mini="true">Forgot password</a>
                    </div>
                    <div class="ui-block-b">
                        <a href="javascript:nav.slideDown('register_page',true);" data-role="button" data-mini="true">Create account</a>
                    </div>
                </div>
            </div>
        </div>
        <!---------------------------------------------------------------------------->
        <!------------------------- reset password page ------------------------------>
        <!---------------------------------------------------------------------------->
        <div data-role="page" id="reset_page">
            <div data-role="content" style="padding: 15px">
                <form id="reset_form" data-ajax="false" action="">
                    <label for="login_email">e-mail address: </label> <input type="text" name="login_email" id="login_email0">
                    <button onclick="account.resetPWD();" data-role="button" data-theme="b">Reset Password</button>
                </form>
            </div>
        </div>

        <!--------------------------------------------------------------------------->
        <!------------------------- registeration page ------------------------------>
        <!--------------------------------------------------------------------------->
        <div data-role="page" id="register_page">
            <div data-role="content">
                <form id="register_form" data-ajax="false" action="">
                    <label for="register_email">e-mail address: </label> 
                    <input type="text" name="register_email" id="register_email">
                    <label for="register_first_name">First name: </label>
                    <input type="text" name="register_first_name" id="register_first_name"> 
                    <label for="register_last_name">Last name: </label> 
                    <input type="text" name="register_last_name" id="register_last_name"> 
                    <label for="register_password">Password:</label> 
                    <input type="password" name="register_password" id="register_password"> 
                    <label for="register_repeat_password">Repeat password:</label> 
                    <input type="password" name="register_repeat_password" id="register_repeat_password">
                    <div class="ui-grid-a">
                        <div class="ui-block-a">
                            <button type="button" data-role="button" data-theme="b" onclick="account.register();">Register</button>
                        </div>
                        <div class="ui-block-b">
                            <a href="javascript:$.mobile.back();" type="button" data-role="button">Cancel</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!------------------------------------------------------------------------>
        <!---------------------------MAIN PAGES----------------------------------->
        <!------------------------------------------------------------------------>
        <!--
<div data-role="page" id="main">
<div data-role="header" id="header" data-position="fixed" data-theme="b">
<h3>Trips Talker</h3>
<a href="options.html" data-icon="gear" class="ui-btn-right">Options</a>
<div data-role="navbar" data-theme="b" data-position="fixed">
<ul>
<li><a href="#page1" data-icon="user"  data-theme="b" data-transition="none">Friends</a></li>
<li><a href="#page2" data-icon="comment"  data-theme="b" data-transition="none"> events</a></li>
<li><a href="#page3" data-icon="gear"  data-theme="b" data-transition="none">Settings</a></li>
</ul> 
</div> 
</div>
<div data-role="content" style="padding: 15px">
<p id="testing">
testing
</p>
</div>
</div>
-->

        <!------------------------------------------------------------------->
        <!------------------------- events page ------------------------------>
        <!------------------------------------------------------------------->
        <div data-role="page" id="events_page" data-add-back-btn="true">
            <div data-role="header" data-theme="b" data-position="fixed" >
                <h3>Trips Talker</h3>
                <a data-role="button" class="ui-btn-right" data-icon="plus" data-iconpos="notext" onclick="nav.goTo('newevent_page',false);"></a>
                <div data-role="navbar" data-theme="b" data-position="fixed">
                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="b"  data-transition="none">Friends</a></li>
                        <li><a href="#events_page" data-icon="comment"  data-theme="b"  data-transition="none" class = "ui-btn-active ui-state-persist"> events</a></li>
                        <li><a href="#settings_page" data-icon="gear"  data-theme="b"  data-transition="none">Settings</a></li>
                    </ul> 
                </div>     
            </div>

            <div data-role="content">
                <ul id="events_list" data-role="listview">
                </ul>
            </div>
            <div data-role="footer" data-position="fixed">
                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <button data-role="button" class="ui-btn ui-btn-b ui-corner-all ui-shadow" style="width:100%;margin:0px;" onclick="nav.goTo('newevent_page',false);">New Event</button>
                    </div>
                    <div class="ui-block-b">
                        <button data-role="button" class="ui-btn ui-btn-b ui-corner-all ui-shadow" style="width:100%;margin:0px;" onclick="events.getListFromDB();">Refresh</button>
                    </div>
                </div>
            </div>


        </div>
        <!------------------------------------------------------------------------>
        <!----------------------------A event-------------------------------------->
        <!------------------------------------------------------------------------>
        <div data-role="page" id="event_page" data-add-back-btn="true">

            <!-- Panel -->
            <div data-role="panel" id="event_panel" data-position="right" data-display="overlay">
                <a href="#event_panel">Open panel</a>
            </div>

            <!-- Header -->
            <div data-role="header" data-theme="b" data-position="fixed">
                <h1  id='event_page_header'>New event</h1>
                <a href="#event_panel" data-icon="bars" class="ui-btn-right">Open panel</a>

            </div>

            <!-- Content -->
            <div data-role="content">
                <div style="border:solid; height:300px;width:100%;">
                    <ul id="messages"></ul>
                </div>
                <form action="" id="msg_form">
                    <input type="text" name="msg" id="msg">
                    <button>Send</button>
                </form>

            </div>
        </div>

        <!------------------------------------------------------------------------>
        <!--------------------------- NEW event ----------------------------------->
        <!------------------------------------------------------------------------>
        <div data-role="page" id="newevent_page" data-add-back-btn="true">
            <div data-role="header" data-theme="b" data-position="fixed">
                <h1>New Chilling Plan</h1>

            </div>
            <div data-role="content">
                <form id="newevent_form" data-ajax="false" action="">
                    <div class="ui-body ui-body-a">
                        <label for="event_name">Event Name: </label> 
                        <input type="text" name="event_name" id="event_name"> 
                        <label for="event_location">Location:</label> 
                        <input type="text" name="event_location" id="event_location">
                        <button type="button" data-role="button" data-theme="b" onClick="events.new();">Let's Chill</button>
                    </div>
                </form>

            </div>
        </div>

        <!--------------------------------------------------------------------->
        <!------------------------- friends page List------------------------------>
        <!--------------------------------------------------------------------->
        <div data-role="page" id="friends_page" data-add-back-btn="true">


            <!--Header -->
            <div data-role="header" data-theme="b" data-position="fixed">
                <h3>events Talker</h3>
                <div data-role="navbar" data-theme="b" data-position="fixed">

                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="b"  data-transition="none" class = "ui-btn-active ui-state-persist">Friends</a></li>
                        <li><a href="#events_page" data-icon="comment"  data-theme="b"  data-transition="none">events</a></li>
                        <li><a href="#settings_page" data-icon="gear"  data-theme="b"  data-transition="none">Settings</a></li>
                    </ul> 
                </div>     

                <div data-role="navbar" data-theme="a" data-position="fixed">

                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="a"  data-transition="none" class = "ui-btn-active ui-state-persist">Friends</a></li>
                        <li><a href="#requests_page" data-icon="comment"  data-theme="a"  data-transition="none">Requests</a></li>
                    </ul> 
                </div> 


            </div>
            <!--Content-->
            <div data-role="content" style="padding: 15px">

                <!-- <a href="#friends_panel" data-icon="bars" class="ui-btn-right">Requests</a> -->

                <ul data-role="listview" id= "friends_list" type = "a" data-autodividers="true" >
                    <!-- 	 <li>
<a href="#">
<img src="images/1.jpg" alt="Abdoo" class = "ui-corner-none"/>
<h1>Friend2 </h1>
<p>This is me being cool.</p>
</a>
</li>
<li>
<a href="#">
<img src="images/2.jpg" alt="Abdul"/>
<h1>Friend1</h1>
<p>This is me not being cool</p>
</a>
</li> -->

                </ul>
            </div>
        </div>


        <!----------------------------------------------------------------------------->
        <!---------------------------Friends Requests Page----------------------------->
        <!----------------------------------------------------------------------------->
        <div data-role="page" id="requests_page" data-add-back-btn="true">

            <!--Header -->
            <div data-role="header" data-theme="b" data-position="fixed">
                <h3>events Talker</h3>
                <div data-role="navbar" data-theme="b" data-position="fixed">

                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="b"  data-transition="none" class = "ui-btn-active ui-state-persist">Friends</a></li>
                        <li><a href="#events_page" data-icon="comment"  data-theme="b"  data-transition="none">events</a></li>
                        <li><a href="#settings_page" data-icon="gear"  data-theme="b"  data-transition="none">Settings</a></li>
                    </ul> 
                </div>     

                <div data-role="navbar" data-theme="a" data-position="fixed">

                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="a"  data-transition="none">Friends</a></li>
                        <li><a href="#requests_page" data-icon="comment"  data-theme="a"  data-transition="none"  class = "ui-btn-active ui-state-persist">Requests</a></li>
                    </ul> 
                </div> 



            </div>
            <!--Content-->
            <div data-role="content" style="padding: 15px">

                <!-- <a href="#friends_panel" data-icon="bars" class="ui-btn-right">Requests</a> -->

                <ul data-role="listview" id= "requests_list" type = "a" data-autodividers="true" >

                </ul>
            </div>
        </div>


        <!---------------------------------------------------------------------->
        <!------------------------- settings page ------------------------------>
        <!---------------------------------------------------------------------->
        <div data-role="page" id="settings_page" data-add-back-btn="true">
            <div data-role="header" data-theme="b" data-position="fixed">
                <h3>events Talker</h3>
                <div data-role="navbar" data-theme="b" data-position="fixed">

                    <ul>
                        <li><a href="#friends_page" data-icon="user"  data-theme="b"  data-transition="none">Friends</a></li>
                        <li><a href="#events_page" data-icon="comment"  data-theme="b"  data-transition="none"> events</a></li>
                        <li><a href="#settings_page" data-icon="gear"  data-theme="b"  data-transition="none" class = "ui-btn-active ui-state-persist">Settings</a></li>
                    </ul> 
                </div> 
                <h id="settings_header">...</h>
            </div>
            <div data-role="content" data-theme="a" style="padding: 15px">

                <button class="ui-btn ui-shadow-icon ui-btn-b" onclick="account.logout();" >Log out</button>
            </div>
        </div>

        <!------------------------------------------------------------------------>
        <!---------------------------ERROR POPUP---------------------------------->
        <!------------------------------------------------------------------------>
        <div data-role="page" id="error_page">
            <div data-role="popup" id="errorpop" data-dismissible="true" style="max-width:300px;" class="ui-corner-all" data-history="false">
                <div data-role="header" class="ui-header ui-bar-b">
                    <h1>Ops :(</h1>
                </div>
                <div data-role="content" data-theme="a" class="ui-corner-bottom ui-content">
                    <p id="error-dialog-content"></p>
                </div>
            </div>
        </div>

        <!----------------------------SCRIPTS----------------------------------------->
        <script src="libs/socket.io-1.2.0.js"></script>
        <script src="libs/shred.bundle.js" type='text/javascript'></script>
        <script src="libs/swagger.js" type='text/javascript'></script>
        <script src="libs/sdk-init.js" type='text/javascript'></script>
        <script src="libs/jquery-2.1.1.js"></script>
        <script src="libs/jquery.mobile-1.4.4.js"></script>
        <script>
            $(document).on("mobileinit",function(){
                console.log('mobile is init');
                $.mobile.allowCrossDomainPages = true;
                $.support.cors = true;
                //            $.mobile.phonegapNavigationEnabled = true;

                $.mobile.loader.prototype.options.text = "loading";
                $.mobile.loader.prototype.options.textVisible = true;
                $.mobile.loader.prototype.options.theme = "a";
                $.mobile.loader.prototype.options.html = "";
            });
        </script>
        <script src="js/push.js"></script>
        <script src="js/friends.js"></script>
        <script src="js/events.js"></script>
        <script src="js/nav.js"></script>
        <script src="js/io.js"></script>
        <script src="js/app.js"></script>
        <script>
            app.initialize();
            //        testing.start();
        </script>


    </body>
</html>